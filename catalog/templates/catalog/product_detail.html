{% extends 'base.html' %}
{% load static %}

{% block title %}{{ product.name }}{% endblock %}

{% block content %}
<div class="container mt-4">

    <div class="card shadow-sm">
        {% if product.image %}
            <img src="{{ product.image.url }}" class="card-img-top" alt="{{ product.name }}">
        {% endif %}
        <div class="card-body">
            <h2 class="card-title">{{ product.name }}</h2>
            <p class="text-muted">–ö–∞—Ç–µ–≥–æ—Ä–∏—è: {{ product.category }}</p>
            <p class="card-text">{{ product.description }}</p>
            <p><strong>–¶–µ–Ω–∞:</strong> {{ product.price }} ‚ÇΩ</p>

            {% if not product.is_published %}
                <p class="text-danger"><strong>‚ö†Ô∏è –≠—Ç–æ—Ç –ø—Ä–æ–¥—É–∫—Ç —Å–Ω—è—Ç —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</strong></p>
            {% endif %}

            <hr>

            {% if user.is_authenticated %}
                {% if is_owner %}
                    <a href="{% url 'product_update' product.pk %}" class="btn btn-primary btn-sm">‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</a>
                    <a href="{% url 'product_delete' product.pk %}" class="btn btn-danger btn-sm">üóë –£–¥–∞–ª–∏—Ç—å</a>
                {% elif is_moderator %}
                    <a href="{% url 'product_delete' product.pk %}" class="btn btn-warning btn-sm">üóë –£–¥–∞–ª–∏—Ç—å (–º–æ–¥–µ—Ä–∞—Ç–æ—Ä)</a>
                {% endif %}

                {% if can_unpublish %}
                    <a href="{% url 'unpublish_product' product.pk %}" class="btn btn-secondary btn-sm">üö´ –°–Ω—è—Ç—å —Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</a>
                {% endif %}
            {% else %}
                <p class="text-muted mt-3">–ß—Ç–æ–±—ã —É–ø—Ä–∞–≤–ª—è—Ç—å –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏, <a href="{% url 'login' %}">–≤–æ–π–¥–∏—Ç–µ –≤ —Å–∏—Å—Ç–µ–º—É</a>.</p>
            {% endif %}
        </div>
    </div>

    <a href="{% url 'product_list' %}" class="btn btn-outline-secondary mt-3">‚Üê –ù–∞–∑–∞–¥ –∫ —Å–ø–∏—Å–∫—É</a>
</div>
{% endblock %}
